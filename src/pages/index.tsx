import type { NextPage } from "next";
import Head from "next/head";
import { useRef } from "react";
import { trpc } from "../utils/trpc";
import {
  Layout,
  Header,
  SectionHeading,
  Products,
  CtaSectionBtn,
  Ambience,
} from "../components/index";
import { motion, useScroll, useSpring, useTransform } from "framer-motion";
import { Easing } from "../constants/index";
import {
  FrameProvider,
  useRefViewportScroll,
  useViewportTransform,
} from "framed-scroll-motion";
import Image from "next/image";

const Home: NextPage = () => {
  //const hello = trpc.useQuery(["example.hello", { text: "from tRPC" }]);

  const third = useRefViewportScroll([0, 0.5, 1]);
  const [ref, inputRange] = useRefViewportScroll([0, 0.5, 1]);
  const scale = useSpring(useViewportTransform(inputRange, [0, 1, 1]), {
    stiffness: 400,
    damping: 90,
  });

  const scale2 = useSpring(useViewportTransform(third[1], [0, 1, 0]), {
    stiffness: 400,
    damping: 90,
  });
  return (
    <>
      <Head>
        <title>Gravitybar</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <FrameProvider>
        <Layout>
          <Header />
          <main className="pb-44">
            <section>
              <SectionHeading
                caption="Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae, earum aut iste, excepturi sit neque, nemo fugiat dolorum hic nesciunt magnam. Pariatur repellendus sint accusantium nemo voluptas et aperiam autem."
                title="newest Products"
              />
              <Products
                products={[
                  {
                    title: "Salmon",
                    caption:
                      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo reiciendis ipsa temporibus quaerat sapiente placeat id. Quasi blanditiis quas delectus.",
                    tags: [{ id: "1", title: "Fish" }],
                  },
                  {
                    title: "Salmon",
                    caption:
                      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo reiciendis ipsa temporibus quaerat sapiente placeat id. Quasi blanditiis quas delectus.",
                    tags: [{ id: "1", title: "Fish" }],
                  },
                  {
                    title: "Salmon",
                    caption:
                      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo reiciendis ipsa temporibus quaerat sapiente placeat id. Quasi blanditiis quas delectus.",
                    tags: [{ id: "1", title: "Fish" }],
                  },
                  {
                    title: "Salmon",
                    caption:
                      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo reiciendis ipsa temporibus quaerat sapiente placeat id. Quasi blanditiis quas delectus.",
                    tags: [{ id: "1", title: "Fish" }],
                  },
                  {
                    title: "Salmon",
                    caption:
                      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo reiciendis ipsa temporibus quaerat sapiente placeat id. Quasi blanditiis quas delectus.",
                    tags: [{ id: "1", title: "Fish" }],
                  },
                  {
                    title: "Salmon",
                    caption:
                      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo reiciendis ipsa temporibus quaerat sapiente placeat id. Quasi blanditiis quas delectus.",
                    tags: [{ id: "1", title: "Fish" }],
                  },
                ]}
              />
              <CtaSectionBtn title="More Products" link="/products" />
            </section>
            <section className="relative">
              <SectionHeading
                caption="Lorem Ipsum dolor sit amet consecttu eut ejheut e shehtufjhe djfdtehe."
                title="The Ambience"
              />
              <div className="grid grid-cols-1 sm:grid-cols-7 md:grid-cols-12 gap-24">
                <Ambience
                  imgSrc="/ambience-1.jpg"
                  className="sm:col-start-1 sm:col-end-6 md:col-start-2 md:col-end-6"
                />
                <Ambience
                  imgSrc="/ambience-2.jpg"
                  className="sm:col-start-2 sm:col-end-7 md:col-start-7 md:col-end-12 md:my-16"
                />
                <Ambience
                  imgSrc="/ambience-3.jpg"
                  className="sm:col-start-1 sm:col-end-6 md:col-start-3 md:col-end-8 md:my-16"
                />
              </div>
            </section>
          </main>
        </Layout>
      </FrameProvider>
    </>
  );
};

export default Home;
